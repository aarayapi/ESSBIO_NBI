-- View: owd.vmt_1705_501_as_pretratamiento_dbl

-- DROP MATERIALIZED VIEW IF EXISTS owd.vmt_as_pretratamiento_dbl;

CREATE MATERIALIZED VIEW IF NOT EXISTS owd.vmt_as_pretratamiento_dbl
TABLESPACE pg_default
AS
SELECT cm.objectid, 
cm.codigo_obra, 
cm.assetguid, 
cm.globalid, 
cm.creator, 
cm.creationdate, 
cm.updatedby, 
cm.lastupdate, 
cm.turbiedad, 
cm.valor_as, 
cm.valor_mn, 
cm.valor_fe,
cm.valor_color, 
cm.solidos_disueltos_totales, 
cm.sulfatos, 
cm.cloruros, 
cm.otro_parametro, 
cm.valor_otro_parametro, 
cm.porcentaje_caudal_descarte, 
cm.tipo_planta, 
cm.filtro_arena, 
cm.num_unidades_filtro_arena, 
cm.filtro_cartucho, 
cm.num_unidades_filtro_cartucho, 
cm.num_unidades_osmosis_inversa, 
cm.created_user, 
cm.created_date, 
cm.last_edited_user, 
cm.last_edited_date, 
cm.assettype, 
cm.gdb_branch_id, 
cm.gdb_from_date, 
cm.gdb_is_delete, 
cm.gdb_deleted_at, 
cm.gdb_deleted_by, 
cm.gdb_archive_oid

   FROM dblink('dbname=prd_ap port=5432 host=10.56.209.135 user=owd password=E55b10$2021'::text, ' 
 SELECT 
ap.objectid, 
ap.codigo_obra, 
ap.assetguid, 
ap.globalid, 
ap.creator, 
ap.creationdate, 
ap.updatedby, 
ap.lastupdate, 
ap.turbiedad, 
ap.valor_as, 
ap.valor_mn, 
ap.valor_fe,
ap.valor_color, 
ap.solidos_disueltos_totales, 
ap.sulfatos, 
ap.cloruros, 
ap.otro_parametro, 
ap.valor_otro_parametro, 
ap.porcentaje_caudal_descarte, 
ap.tipo_planta, 
ap.filtro_arena, 
ap.num_unidades_filtro_arena, 
ap.filtro_cartucho, 
ap.num_unidades_filtro_cartucho, 
ap.num_unidades_osmosis_inversa, 
ap.created_user, 
ap.created_date, 
ap.last_edited_user, 
ap.last_edited_date, 
ap.assettype, 
ap.gdb_branch_id, 
ap.gdb_from_date, 
ap.gdb_is_delete, 
ap.gdb_deleted_at, 
ap.gdb_deleted_by, 
ap.gdb_archive_oid
FROM owd.ap_plantatratamiento ap'::text) cm(
    objectid integer,
    codigo_obra character varying(255),
    assetguid character varying(38),
    globalid character varying(38),
    creator character varying(255),
    creationdate timestamp without time zone,
    updatedby character varying(255),
    lastupdate timestamp without time zone,
    turbiedad numeric(38,8),
    valor_as numeric(38,8),
    valor_mn numeric(38,8),
    valor_fe numeric(38,8),
    valor_color numeric(38,8),
    solidos_disueltos_totales numeric(38,8),
    sulfatos numeric(38,8),
    cloruros numeric(38,8),
    otro_parametro character varying(255),
    valor_otro_parametro numeric(38,8),
    porcentaje_caudal_descarte numeric(38,8),
    tipo_planta integer,
    filtro_arena integer,
    num_unidades_filtro_arena integer,
    filtro_cartucho integer,
    num_unidades_filtro_cartucho integer,
    num_unidades_osmosis_inversa integer,
    created_user character varying(255),
    created_date timestamp without time zone,
    last_edited_user character varying(255),
    last_edited_date timestamp without time zone,
    assettype smallint,
    gdb_branch_id integer,
    gdb_from_date timestamp without time zone,
    gdb_is_delete smallint,
    gdb_deleted_at timestamp without time zone,
    gdb_deleted_by character varying(255),
    gdb_archive_oid integer 
	)
WITH DATA;

ALTER TABLE IF EXISTS owd.vmt_as_pretratamiento_dbl
    OWNER TO owd;

GRANT ALL ON TABLE owd.vmt_as_pretratamiento_dbl TO owd;
GRANT SELECT ON TABLE owd.vmt_as_pretratamiento_dbl TO bd_consulta;